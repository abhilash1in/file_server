create table employee(ssn varchar(10) primary key, name varchar(20), deptno int(10) );

create table project (pno int primary key,parea varchar(20));

create table assigned_to(usn varchar(10) references employee(ssn),pno int references project(pno));

insert into employee values('1','A',1);
insert into employee values('2','B',2);
insert into employee values('3','C',3);
insert into employee values('4','D',2);
insert into employee values('5','E',1);


insert into project values(1,'testing');
insert into project values(2,'databases');
insert into project values(3,'maintainance');
insert into project values(4,'development');


insert into assigned_to values('1',1);
insert into assigned_to values('2',2);
insert into assigned_to values('3',1);
insert into assigned_to values('4',3);
insert into assigned_to values('5',4);

select ssn from employee where ssn in (select usn from assigned_to where pno=(select pno from project where parea='databases'));

select count(ssn),deptno from employee group by deptno;

update assigned_to set pno=20 where usn='1';

select name from employee where ssn in (select usn from assigned_to where pno=(select pno from project where parea='testing'));

select count(usn),pno from assigned_to group by pno;
select count(unique usn),pno from assigned_to group by pno;